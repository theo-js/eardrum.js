!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("eardrum",[],t):"object"==typeof exports?exports.eardrum=t():e.eardrum=t()}(this,(function(){return(()=>{"use strict";var e={766:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(772),o=r(165),i=function e(){this.Eardrum=e,this.refs=[],this.lastConfiguredObject={current:null},this.configure=n.default.bind(this),this.reset=o.default.bind(this)};t.default=i},772:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(657),o=r(676),i=r(488);t.default=function(e){var t,r=(0,n.default)(e),a=r.object,s=r.property,u=r.value,f=r.handler,d=o.installListener.bind(this,r),c=o.ejectListener.bind(this,r),p=(0,i.createPrivatePropName)(s);this.lastConfiguredObject.current=a,(0,i.isFunction)(f)&&d(),Object.defineProperties(a,((t={})[p]={value:void 0===u?a[s]:u,writable:!0,configurable:!0,enumerable:!1},t[s]={get:function(){return this[p]},set:function(e){c(),this[p]=e,(0,i.isFunction)(e)&&d()},configurable:!0,enumerable:!0},t))}},676:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ejectListener=t.installListener=void 0;var o=r(488);function i(e){var t=this,r=e.attach,i=e.attachMethodName,a=e.detachMethodName,s=e.object,u=e.listener,f=e.handler,d=e.listenerRemovalCondition,c=e.additionalRefProps,p=u.target,l=u.options,v=p,h=u.type;if(!v[i]||!v[a])throw new Error("Event target is invalid");if(r){v[i](h,f,l);var y={handler:f,eventType:h,options:l,object:s,target:v};(0,o.isEardrumSupportedObject)(c)&&(y=n(n({},c),y)),this.refs.push(y)}else{this.refs.filter((function(e,r,n){var o;return(o="function"!=typeof d||d(e,r,n))&&t.refs.splice(r,1),o})).forEach((function(e){v[a](h,e.handler,e.options)}))}}function a(e,t){t.object;var r,a,s,u=t.handler,f=t.listener,d=t.additionalRefProps,c=f,p=c.type,l=c.target,v=u,h=l;if((0,o.isNodeEnv)())(0,o.isEventTargetOrEmitter)(h)||(h=process),a="addListener",s="removeListener",r=function(e){v(e,t)};else{if("undefined"==typeof window)throw new Error("This environment does not support eardrum.js");(0,o.isEventTargetOrEmitter)(h)||(h=window),a="addEventListener",s="removeEventListener",r=function(e){v(e,t)}}i.bind(this,n(n({},t),{handler:r,listener:n(n({},c),{target:h,type:p||""}),additionalRefProps:d,attachMethodName:a,detachMethodName:s,attach:e}))()}t.installListener=function(e){a.bind(this,!0,e)()},t.ejectListener=function(e){a.bind(this,!1,e)()}},657:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(488);t.default=function(e){var t=e.object,r=e.property,i=e.handler,a=e.additionalRefProps,s=void 0===a?{}:a,u=e.listener,f=void 0===u?{type:"",target:void 0,options:void 0}:u;if(!(0,o.isEardrumSupportedObject)(t))throw new Error("Eardrum does not support this object");return(0,o.throwIfPropIsNotConfigurable)({object:t,key:r},"Eardrum cannot configure property "+r.toString()+" of provided object because it is not configurable"),void 0===i&&(0,o.isFunction)(t[r])&&(i=t[r],e.handler=i),n(n({},e),{object:t,property:r,handler:i,additionalRefProps:s,listener:f})}},165:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resetStoredValues=void 0;var n=r(488);function o(){try{return(0,n.emptyArray)(this.refs),this.lastConfiguredObject.current=null,!0}catch(e){return!1}}t.resetStoredValues=o,t.default=function(){var e=this;try{var t=(0,n.isNodeEnv)()?"removeListener":"removeEventListener";return this.refs.forEach((function(e){e.target[t](e.eventType,e.handler,e.options)})),o.bind(e),!0}catch(e){return!1}}},488:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfPropIsNotConfigurable=t.emptyArray=t.isEventTargetOrEmitter=t.isEardrumSupportedObject=t.isFunction=t.isNodeEnv=t.createPrivatePropName=void 0;t.createPrivatePropName=function(e){if("symbol"==typeof e)return Symbol();if("string"==typeof e)return"_"+e;throw new Error("Eardrum does not support property keys of type "+typeof e)};t.isNodeEnv=function(){return"undefined"==typeof window};t.isFunction=function(e){return"[object Function]"===toString.call(e)};t.isEardrumSupportedObject=function(e){return"[object Object]"===toString.call(e)};t.isEventTargetOrEmitter=function(e){return!!e&&("function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener||"function"==typeof e.addListener&&"function"==typeof e.removeListener)};t.emptyArray=function(e){if("number"!=typeof e.length||"function"!=typeof e.pop||!Array.isArray(e))throw new Error("Invalid argument passed to emptyArray: argument should be an array");for(;e.length>0;)e.pop()};t.throwIfPropIsNotConfigurable=function(e,t){var r=e.object,n=e.key;"string"!=typeof t&&(t="Error: property '"+n.toString()+"' is not configurable");var o=Object.getOwnPropertyDescriptor(r,n);if(void 0!==o&&!o.configurable)throw new Error(t);return o}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}var n={};return(()=>{var e=n;var t=r(766);e.default=new t.default})(),n=n.default})()}));
//# sourceMappingURL=eardrum.js.map