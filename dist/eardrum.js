!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("eardrum",[],t):"object"==typeof exports?exports.eardrum=t():e.eardrum=t()}(this,(function(){return(()=>{"use strict";var e={772:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(687),o=r(657),i=r(676),a=r(488);t.default=function(e){var t,r=(0,o.default)(e),u=r.object,c=r.property,s=r.value,d=r.handler,f=(r.additionalRefProps,(0,a.createPrivatePropName)(c));n.lastConfiguredObject.current=u,(0,a.isFunction)(d)&&(0,i.installListener)(e),Object.defineProperties(u,((t={})[f]={value:void 0===s?u[c]:s,writable:!0,configurable:!0,enumerable:!1},t[c]={get:function(){return this[f]},set:function(t){(0,i.ejectListener)(e),this[f]=t,(0,a.isFunction)(t)&&(0,i.installListener)(e)}},t))}},676:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ejectListener=t.installListener=void 0;var o=r(687),i=r(488);function a(e,t){t.object;var r,a,u,c=t.handler,s=t.listener,d=s.target,f=c;if((0,i.isNodeEnv)())(0,i.isEardrumSupportedObject)(d)||(d=process),a="addListener",u="removeListener",r=function(e){f(e,t)};else{if("undefined"==typeof window)throw new Error("This environment does not support eardrum.js");d=window,a="addEventListener",u="removeEventListener",r=function(e){f(e,t)}}!function(e){var t=e.attach,r=e.attachMethodName,a=e.detachMethodName,u=e.object,c=e.listener,s=e.handler,d=e.listenerRemovalCondition,f=e.additionalRefProps,l=c.target,p=(c.bubble,l),v=c.type;if(!p[r]||!p[a])throw new Error("EventTarget is invalid");if(t){p[r](v,s);var b={handler:s,eventType:v,object:u};(0,i.isEardrumSupportedObject)(f)&&(b=n(n({},f),b)),o.handlerReferences.push(b)}else o.handlerReferences.filter((function(e,t,r){var n;return(n="function"!=typeof d||d(e,t,r))&&o.handlerReferences.splice(t,1),n})).forEach((function(e){p[a](v,e.handler)}))}(n(n({},t),{handler:r,listener:n(n({},s),{target:d}),attachMethodName:a,detachMethodName:u,attach:e}))}t.installListener=function(e){a(!0,e)},t.ejectListener=function(e){a(!1,e)}},657:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(488);t.default=function(e){var t=e.object,r=e.property,o=e.handler;if(!(0,n.isEardrumSupportedObject)(t))throw new Error("Eardrum does not support this object");return(0,n.throwIfPropIsNotConfigurable)({object:t,key:r},"Eardrum cannot configure property "+r.toString()+" of provided object because it is not configurable"),void 0===o&&(0,n.isFunction)(t[r])&&(o=t[r],e.handler=o),e}},687:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lastConfiguredObject=t.handlerReferences=void 0;t.handlerReferences=[];t.lastConfiguredObject={current:null}},488:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfPropIsNotConfigurable=t.isEardrumSupportedObject=t.isFunction=t.isNodeEnv=t.createPrivatePropName=void 0;t.createPrivatePropName=function(e){if("number"==typeof e)throw new Error("Eardrum does not support property keys of type number");return"symbol"==typeof e?Symbol():"_"+e};t.isNodeEnv=function(){return"undefined"==typeof window};t.isFunction=function(e){return"[object Function]"===toString.call(e)};t.isEardrumSupportedObject=function(e){return"[object Object]"===toString.call(e)};t.throwIfPropIsNotConfigurable=function(e,t){var r=e.object,n=e.key;"string"!=typeof t&&(t="Error: property '"+n.toString()+"' is not configurable");var o=Object.getOwnPropertyDescriptor(r,n);if(void 0!==o&&!o.configurable)throw new Error(t);return o}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}var n={};return(()=>{var e=n;var t={configure:r(772).default};e.default=t})(),n=n.default})()}));
//# sourceMappingURL=eardrum.js.map